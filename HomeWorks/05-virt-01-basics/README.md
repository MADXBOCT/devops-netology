1 \
Основное отличие типов виртуализации - взаимодействие гостевой ОС с "железом"
- при полной аппаратной виртуализации не требуется хостовая операционная система, используется оригинальное ядро гостевой ос; практически нет ограничений по гостевым ос
- при паравиртуализации гипервизор ставится поверх ос хоста, гипервизор модифирует ядро гостевой ос; могут быть ограничения по гостевым ос, в зависимости от типа ос и гипервизора
- при виртуализации уровня ОС гипервизор не ставится, используются механизмы ядра хостовой ОС, используется изоляция гостевой ОС; гостевые ос ограничены ядром хостовой ос

2 \
Высоконагруженная база данных, чувствительная к отказу - физический сервер \
прямая работа с железом без гипервизора (без накладных расходов), отказоустойчивость лучше обеспечить нативными средствами БД (репликация)
(возможно использование полной аппартной виртуализации, минимальное влияние гипервизора на производительность, более гибкое решение)
         
Различные Java-приложения - виртуализация уровня ОС (контейнеризация)
- обычно нет специфичных требований по доступу к аппаратным средствам
- высокая масштабируемость
- высокая компактность, меньше накладных расходов (не требуется гостоевая ОС для каждого отдельно взятого приложения)

Windows системы для использования Бухгалтерским отделом - паравиртуализация
- обычно нет специфичных требований по доступу к аппаратным средствам (бывают конечно нюансы со всякими аппаратными ключами)
- удобный провижионинг, можно развораивать из шаблона типовые рабочие места
- удобный бэкап, если нужно (виртуалка бэкапится целиком)
- при необходимости изменение выделенных ресурсов (cpu, ram, disk) c резервацией
- возможна экономия на лицензиях (в определенных программах хостовую ос лицензировать не надо при условии покeпки лицензий гостевых ос, VDI комлекты)

Системы, выполняющие высокопроизводительные расчеты на GPU - физические сервера \
требуется максимально прямой доступ к аппаратным ресурсам \
(как и в первом случае с БД, возможно использование полной аппартной виртуализации; например у компании vmware есть огромное кол-во технологий: проброс pci-e шины в виртуалку, gpu sharing pGPU/vGPU, специализированный продукт bitfusion)

3

сценарий 1 \
в данном сценарии лучше воспользоваться vmware vsphere (vcenter + кластера esxi) \
- подходит для windows и linux, широкие возможности по разным версиям 
- vcenter можно подключить к Active Directory для централизованного управления правами 
- большая гибкость: балансировщики можно реализовать как специальными продуктами для linux, windows NLB, так и средствами сетевой подсистемы гипервизора - vmware nsx
- тоже самое с репликацией: средствами приложений (если применимо), средствами ос, и средствами гиервизора (можно установить vmware replication apliance, еще есть надстройка site recovery)
- большинство современных систем резервного коирования умеют работать с vmware и виртуалками, так как гостевые ос преимущественно windows. то может подойти, например veritas bacupexec

сценарий 2 \
в данном сценарии подойдет KVM
- бесплатно
- достаточная производительность
- подходит для Linux и Windows
- можно добавить proxmox или Virtual Machine Manager для более удобного управления
    
сценарий 3 \
В данном сценарии можно использовать бесплатный Hyper-V \
- с Windows будет максимально совместим
- упрощение лицензирования и администрирования т.к решение виртуализации и гостевые ос будут от одного вендора
       
сценарий 4 \
поскольку в сценарии 1)явно не указано, что решение должно быть бесплатное, 2) является тестовым и 3)будут использованы дистрибутивы linux, то в этом случае возможно воспользоваться облачными провайдерами aws/gcp/ycloud
инфраструктуру можно разворачивать на время тестов и выключать или даже удалять на ночь/выходные для экономии бюджета

4

Проблемы гетерогенной среды:
- кадровые проблемы: несколько команд администрирования или админы-унивесалы (с низкой компетенцией в обеих средах)
- возможны финансовые затраты (если все от одного вендора проще договориться о скидках и проще использовать готовые схемы лицензирования) 
- сложность поддержки (ловить баг сложно - у кого из вендоров открывать тикет в поддержку)
- проблемы миграции между разными системами 
- дублирование серверов управления средами виртуализации
- усложнение системы резервного копирования
- проблемы с унификацией парка "железных серверов" - один вендор может поддерживать больше одно, другой другое (разные драйверы и т.д.)
реальный пример из практики на работе: продуктив  был hyper-v, тестовые стенды и локалка - vmware. в результате все тестостенды перевели на hyper-v, чтобы максимально повторяли лайв. но остались несколько сервисов на очень старых vmware серверах. очень размазанная зона отвественности, никто не хочет ими заниматься.

По возможности лучше избегать гетергенных сред

Для минимизации рисков 
- образа виртуальных машин для разных систем виртуализаций должны быть максимально похожи, а еще лучше иметь единый репозиторий. отличаться они буду фактически драйверами/средствами взаимодействия с гипервизором. 
- для максимальной консистентности подобрать единое средство управления и настройки ВМ, имеющее "коннектор" к обеим системам управления виртуализацией
- распределить гостевые вм по разным системам максимально учитывая совместимость (винду к винде, линукс к линуксу)




